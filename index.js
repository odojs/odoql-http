// Generated by CoffeeScript 1.9.1
var request;

request = require('superagent');

module.exports = {
  params: {
    http: function(exe, params) {
      var getsource;
      getsource = exe.build(params.__s);
      return function(cb) {
        return getsource(function(err, source) {
          if (err != null) {
            return cb(err);
          }
          return request.get(source).buffer().end(function(err, res) {
            if (err != null) {
              return cb(err);
            }
            if (!res.ok) {
              return cb(new Error(res.text));
            }
            return cb(null, res.text);
          });
        });
      };
    }
  }
};
